---
layout: default
---

<div class="company-description">
  <p>Vi är ett gäng konsulter i Stockholm, duktiga inom systemutveckling och systemtest. <a href="{{ site.baseurl }}/om/">Läs mer</a></p>
</div>
<div class="team_members">
  {% assign count = 0 %}
  {% for team_member in site.team reversed %}
    {% assign count = count | plus: 1 %}
    <div class="team-member {% if count > 3 %} hidden {% endif %}">
        <div class="image-container">
            <div class="image-placeholder">
                <img src="images/team/{{team_member.image}}">
            </div>
        </div>
      <h1 class="name">{{ team_member.name }}</h1>
      {% if team_member.cv_link %}
        <a href="{{team_member.cv_link}}" target="_blank">Visa Profil</a>
      {% endif %}
    </div>

  {% endfor %}
</div>

<div class="show-all-btn-container">
    <button id="show-all-btn" class="button button--wayra">Visa alla</button>
</div>

<hr class="divider">

<div class="instagram-posts">
    <div class="grid">
      <div class="grid-sizer"></div>
    </div>
</div>

<script src="scripts/masonry.pkgd.min.js"></script>
<script src="scripts/imagesloaded.pkgd.min.js"></script>

<script>
    //show-all-button
    var showAllBtn = document.getElementById('show-all-btn');
    showAllBtn.addEventListener('click', function() {
       var teamMembers = [].slice.call(document.getElementsByClassName('team-member'));
       teamMembers.forEach(function(teamMember) {
           teamMember.classList.remove('hidden');
       });
       showAllBtn.classList.add('hidden');
    });

    //Instagram fetching
    var script = document.createElement('script');
    script.src = 'https://api.instagram.com/v1/users/1805388781/media/recent/?access_token=1805388781.6f84264.ba97662b8d0240579d138931a4d06671&callback=handler';

    document.getElementsByTagName('head')[0].appendChild(script);

    function handler(response)
    {
        response.data.forEach(function(post, i){
            if(i >= 30) {
                return;
            }
            var imageContainer = document.createElement('a');
            imageContainer.setAttribute('href', post.link);
            imageContainer.setAttribute('target', '_blank');
            imageContainer.classList.add('grid-item');
            var image = document.createElement('img');
            image.setAttribute('src', post.images.standard_resolution.url);
            imageContainer.appendChild(image);
            document.getElementsByClassName('grid')[0].appendChild(imageContainer);
        });

        var grid = document.querySelector('.grid');
        var msnry = new Masonry( grid, {
          itemSelector: '.grid-item',
          columnWidth: '.grid-sizer',
          percentPosition: true
        });

        imagesLoaded( grid, function( instance ) {
            msnry.layout();
          });
    }
</script>
